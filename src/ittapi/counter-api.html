

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Counter API &mdash; ITT/JIT APIs Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />

  
    <link rel="canonical" href="https://intel.github.io/ittapi/src/ittapi/counter-api.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Domain API" href="domain-api.html" />
    <link rel="prev" title="Context Metadata API" href="context-metadata-api.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ITT/JIT APIs Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build.html">Build from Source Code</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api-support.html">Use the ITT/JIT APIs</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../api-support.html#c-c-api-usage-and-reference">C/C++ API Usage and Reference:</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../itt-api-support.html">Instrumentation and Tracing Technology (ITT) API</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../itt-api-support.html#itt-api-usage-and-reference">ITT API Usage and Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../jit-api-support.html">Just-In-Time (JIT) API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../api-support.html#other-language-api-bindings">Other Language API Bindings:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ref_collector.html">ITT API Reference Collector</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/intel/ittapi">GitHub Project</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ITT/JIT APIs Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api-support.html">Use the ITT/JIT APIs</a></li>
          <li class="breadcrumb-item"><a href="../itt-api-support.html">Instrumentation and Tracing Technology (ITT) API</a></li>
          <li class="breadcrumb-item"><a href="../itt-api-reference.html">ITT API Reference</a></li>
      <li class="breadcrumb-item active">Counter API</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/src/ittapi/counter-api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="counter-api">
<span id="id1"></span><h1>Counter API<a class="headerlink" href="#counter-api" title="Link to this heading">ÔÉÅ</a></h1>
<p>A Counter is a user-defined characteristic or metric of hardware or software
behavior that you use to collect information about execution breakdown. You can
also use counters to correlate this information with tasks, events, and markers.</p>
<p>For example, the development of system-on-a-chip (SoC) benefits from several
counters that represent different parts of the SoC to count some hardware
characteristics.</p>
<p><strong>Define and create a counter object</strong></p>
<p>Use these primitives:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_create</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">domain</span><span class="p">);</span>

<span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_createA</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">domain</span><span class="p">);</span>

<span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_createW</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="n">domain</span><span class="p">);</span>

<span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_create_typed</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="n">__itt_metadata_type</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>

<span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_create_typedA</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="n">__itt_metadata_type</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>

<span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_create_typedW</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">wchar_t</span><span class="w"> </span><span class="o">*</span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="n">__itt_metadata_type</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>

<span class="n">__itt_counter</span><span class="w"> </span><span class="nf">__itt_counter_create_v3</span><span class="p">(</span><span class="n">__itt_domain</span><span class="o">*</span><span class="w"> </span><span class="n">domain</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="n">__itt_metadata_type</span><span class="w"> </span><span class="n">type</span><span class="p">);</span>
</pre></div>
</div>
<p>You must specify a counter name and domain name. To load a specialized type of
data, specify the counter type. The default counter type is <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code>.</p>
<p><strong>Parameters of the primitives:</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">domain</span>
</pre></div>
</div>
</td>
<td><p>Counter domain</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>
</pre></div>
</div>
</td>
<td><p>Counter name</p></td>
</tr>
<tr class="row-even"><td><p>[in]</p></td>
<td><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">type</span>
</pre></div>
</div>
</td>
<td><p>Counter type</p></td>
</tr>
</tbody>
</table>
<p><strong>Increment/decrement a counter value</strong></p>
<p>Use these primitives:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_inc</span><span class="w"> </span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_inc_delta</span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_dec</span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_dec_delta</span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These primitives are applicable to uint64 counters only.</p>
</div>
<p><strong>Directly set the counter value</strong></p>
<p>Use:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_set_value</span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">value_ptr</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_set_value_v3</span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">counter</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">value_ptr</span><span class="p">);</span>
</pre></div>
</div>
<p>Parameters of the primitive:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>[in]</p></td>
<td><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">id</span>
</pre></div>
</div>
</td>
<td><p>Counter ID</p></td>
</tr>
<tr class="row-odd"><td><p>[in]</p></td>
<td><div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">value_ptr</span>
</pre></div>
</div>
</td>
<td><p>Counter value</p></td>
</tr>
</tbody>
</table>
<p><strong>Remove an existing counter</strong></p>
<p>Use:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">__itt_counter_destroy</span><span class="p">(</span><span class="n">__itt_counter</span><span class="w"> </span><span class="n">id</span><span class="p">);</span>
</pre></div>
</div>
<section id="usage-example">
<h2>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading">ÔÉÅ</a></h2>
<p>This example creates a counter that measures temperature and memory
usage metrics:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;ittnotify.h&quot;</span>


<span class="n">__itt_counter</span><span class="w"> </span><span class="n">temperatureCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">__itt_counter_create</span><span class="p">(</span><span class="s">&quot;Temperature&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Domain&quot;</span><span class="p">);</span>
<span class="n">__itt_counter</span><span class="w"> </span><span class="n">memoryUsageCounter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">__itt_counter_create</span><span class="p">(</span><span class="s">&quot;Memory Usage&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Domain&quot;</span><span class="p">);</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kr">__int64</span><span class="w"> </span><span class="n">temperature</span><span class="p">;</span>


<span class="k">while</span><span class="w"> </span><span class="p">(...)</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="n">temperature</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getTemperature</span><span class="p">();</span>
<span class="w">    </span><span class="n">__itt_counter_set_value</span><span class="p">(</span><span class="n">temperatureCounter</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">temperature</span><span class="p">);</span>


<span class="w">    </span><span class="n">__itt_counter_inc_delta</span><span class="p">(</span><span class="n">memoryUsageCounter</span><span class="p">,</span><span class="w"> </span><span class="n">getAllocatedMemSize</span><span class="p">());</span>
<span class="w">    </span><span class="n">__itt_counter_dec_delta</span><span class="p">(</span><span class="n">memoryUsageCounter</span><span class="p">,</span><span class="w"> </span><span class="n">getDeallocatedMemSize</span><span class="p">());</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>


<span class="n">__itt_counter_destroy</span><span class="p">(</span><span class="n">temperatureCounter</span><span class="p">);</span>
<span class="n">__itt_counter_destroy</span><span class="p">(</span><span class="n">memoryUsageCounter</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="context-metadata-api.html" class="btn btn-neutral float-left" title="Context Metadata API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="domain-api.html" class="btn btn-neutral float-right" title="Domain API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025 Intel Corporation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>